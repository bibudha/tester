function GridlockBookmarklet(){var $jq,OverlayObj,Overlay=function(){var _this=this,config=$jq.extend({onLoad:true,position:"bottom-left",useCookies:false},window.GridlockBookmarkletConfig);if($jq(".gridlock").length<1){alert("Gridlock Not Found.\nYou'll need to include Gridlock before using this bookmarklet.\n\nLearn more: http://www.benplum.com/projects/gridlock/");}else{var desktopCount=$jq(".gridlock").hasClass("gridlock-16")?16:12,mobileFirst=$jq(".gridlock").hasClass("gridlock-mf"),tabletCount=Math.ceil(desktopCount/2);mobileCount=3;console.log("MOBILE FIRST: "+mobileFirst);if($jq("#gridlock_styles").length<1){$jq("body").append('<style id="gridlock_styles">#gridlock_menu,#gridlock_menu *{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}#gridlock_menu{background:#222;box-shadow:0 0 8px rgba(0,0,0,0.75);font-family:Helvetica,san-serif;margin:0;padding:0;position:fixed;z-index:100001}#gridlock_menu.top-left{border-bottom-right-radius:4px;left:0;top:0}#gridlock_menu.top-right{border-bottom-left-radius:4px;right:0;top:0}#gridlock_menu.bottom-left{border-top-right-radius:4px;bottom:0;left:0}#gridlock_menu.bottom,#gridlock_menu.bottom-right{border-top-left-radius:4px;bottom:0;right:0}#gridlock_menu .icon,#gridlock_menu .option{color:#999;display:block;float:left;font-size:14px;height:35px;line-height:37px;padding:0 10px}#gridlock_menu .option{border-right:1px solid #000;cursor:pointer}#gridlock_menu .option:hover{color:#eee}#gridlock_menu .option.active{background:#000;color:#eee}#gridlock_menu .show{font-size:11px;line-height:35px;text-align:center;width:60px}#gridlock_menu .icon{background:url(images/gridlock_bookmarklet_icons.png) no-repeat;margin:9px;padding:0}#gridlock_menu .icon.logo{background-position:-14px 10px;border-right:1px solid #000;margin:0 0 0 10px;padding:0;text-indent:-99999px;width:25px}#gridlock_menu .icon.remove{background-position:0 0;border:0;cursor:pointer;height:13px;margin:10px;opacity:.5;text-indent:-99999px;width:13px}#gridlock_menu .icon.remove:hover{opacity:1}#gridlock_overlay{height:100%;left:0;opacity:.5;overflow:hidden;position:fixed;pointer-events:none;top:0;width:100%;z-index:100000}#gridlock_overlay .row{background:rgba(0,0,0,0.15);display:none;height:100%;margin:0 auto!important}#gridlock_overlay .row [class*="desktop-"]{background:rgba(0,0,0,0.15);border:1px solid rgba(0,0,0,0.2);border-width:0 1px;height:100%;overflow:hidden}#gridlock_overlay .row [class*="desktop-"] span{display:block;padding-top:10000px;width:100%}</style>');}
if($jq("#gridlock_overlay").length<1){var _this=this,html='';html+='<menu id="gridlock_menu" class="'+config.position+'">';html+='<span class="icon logo">Gridlock</span>';html+='<span class="show option">SHOW</span>';html+='<span class="icon remove">Close</span>';html+='</menu>';html+='<section id="gridlock_overlay" class="'+((mobileFirst)?"mobile-first":"")+'">';html+='<div class="row">';for(var i=0;i<desktopCount;i++){html+='<div class="desktop-1 tablet-1 mobile-1"> <span> </span> </div>';}
html+='</div>';html+='</section>';$jq("body").append(html);_this.$menu=$jq("#gridlock_menu");_this.$menuItems=_this.$menu.find("span");_this.$overlay=$jq("#gridlock_overlay");_this.$menu.on("click",".option",$jq.proxy(_this.onClick,_this)).on("click",".remove",$jq.proxy(_this.remove,_this));if(config.onLoad||(config.useCookies===true&&_this.readCookie("gridlock-active")=="true")){_this.$menuItems.filter(".show").trigger("click");}}}};Overlay.prototype={onClick:function(e){var _this=this;var $target=$jq(e.currentTarget);if($target.hasClass("active")||$target.hasClass("remove")){$target.removeClass("active").html("SHOW");_this.$overlay.find(".row").hide();_this.eraseCookie("gridlock-active");}else{$target.addClass("active").html("HIDE");_this.$overlay.find(".row").show();_this.createCookie("gridlock-active","true",7);}},remove:function(e){var _this=this;_this.$menu.remove();_this.$overlay.remove();},createCookie:function(key,value,expires){var date=new Date();date.setTime(date.getTime()+(expires*24*60*60*1000));var expires="; expires="+date.toGMTString();var path="; path=/"
var domain="; domain="+document.domain;document.cookie=key+"="+value+expires+domain+path;},readCookie:function(key){var keyString=key+"=";var cookieArray=document.cookie.split(';');for(var i=0;i<cookieArray.length;i++){var cookie=cookieArray[i];while(cookie.charAt(0)==' '){cookie=cookie.substring(1,cookie.length);}
if(cookie.indexOf(keyString)==0)return cookie.substring(keyString.length,cookie.length);}
return null;},eraseCookie:function(key){this.createCookie(key,"",-1);}};function initOverlay(){OverlayObj=new Overlay();}
function loadJQuery(){var jQ=document.createElement("script");jQ.id="gridlock-jquery";jQ.src="jquery-1.8.2.min.js";jQ.onload=function(){$jq=jQuery.noConflict(true);initOverlay();};document.body.appendChild(jQ);}
if(typeof jQuery=="undefined"){loadJQuery();}else{var version=jQuery.fn.jquery.split('.');if(parseInt(version[1],10)<7){loadJQuery();}else{$jq=jQuery;initOverlay();}}}
GridlockBookmarklet();